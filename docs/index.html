<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">

  <title>高さを揃えるjs</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="The HTML5 Herald">
  <meta name="author" content="SitePoint">

  <link rel="stylesheet" href="css/styles.css">

  <!--[if lt IE 9]>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.js"></script>
  <![endif]-->
	<style media="screen">
  .box {
    max-width: 700px;
    margin: 0 auto;
    overflow: hidden;
  }
  .boxInner {
    float: left;
    width: 30%;
    padding: 15px;
    box-sizing: border-box;
    border: 1px solid #000;
  }
  .text {
    margin-bottom: 20px;
  }

	</style>
</head>

<body>
  <ul class="box">
    <li class="boxInner">
      <p class="text">
        ああああああああああああああああああああああああああああ
      </p>
      <p class="text2">いいいいいいい</p>
    </li>
    <li class="boxInner">
      <p class="text">
        ああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああ
      </p>
      <p class="text2">いいいいいいいいいいいいいいいいいいいいいいいいいいいいいいいい</p>
    </li>
    <li class="boxInner">
      <p class="text">
        ああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああああ
      </p>
      <p class="text2">いいいいいいいいいいいいいいいい</p>
    </li>
  </ul>


<script src="js/jquery.min.js" charset="utf-8"></script>
<script type="text/javascript">

(function() {

  // 要素の高さを揃えるjs
  var HeightArrange = function(targetEl) {
    this.targetEl = $(targetEl);
  };
  HeightArrange.prototype.fn = function() {
    var that = this;
    $(window).on('load resize', function() {
      var heightList = new Array();
      var $winWidth = $(window).width();
      that.targetEl.css({ 'min-height': '100%' });
      that.targetEl.each(function(index) {
        var $eachThis = $(this);
        setTimeout(function() {
          heightList[index] = $eachThis.outerHeight();
          var maxH = Math.max.apply(null,heightList);
          that.targetEl.css({ 'min-height': maxH + 'px' });
        },500)
      });
    });
  };
  var HeightArrangeText = new HeightArrange('.text');
  HeightArrangeText.fn();
  var HeightArrangeText2 = new HeightArrange('.text2');
  HeightArrangeText2.fn();


})();

</script>
</body>
</html>
